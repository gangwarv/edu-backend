{"version":3,"sources":["webpack:///./src/graphql/department.js","webpack:///./src/views/master/department-list.vue?5c6c","webpack:///src/views/master/department-list.vue","webpack:///./src/views/master/department-list.vue?43bc","webpack:///./src/views/master/department-list.vue"],"names":["gql","GET_ALL_DEPARTMENTS","GET_DEPARTMENT_BY_ID","UPSERT_DEPARTMENT","REMOVE_DEPARTMENT","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","$apollo","queries","departments","loading","columns","on","remove","edit","staticRenderFns","name","data","error","methods","confirm","$observe","$router","push","apollo","component"],"mappings":"03CAE+BA,IAAH,KAArB,IAQMC,EAAsBD,IAAH,KAYnBE,EAAuBF,IAAH,KAWpBG,EAAoBH,IAAH,KAWjBI,EAAoBJ,IAAH,M,yCC5C9B,IAAIK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,cAAc,kBAAkB,GAAK,UAAU,YAAY,aAAaH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBE,YAAY,CAAC,aAAa,SAAS,CAACJ,EAAG,UAAU,CAACG,MAAM,CAAC,QAAUP,EAAIS,QAAQC,QAAQC,YAAYC,QAAQ,QAAUZ,EAAIa,QAAQ,KAAOb,EAAIW,YAAY,QAAU,CAAC,OAAO,WAAWG,GAAG,CAAC,OAASd,EAAIe,OAAO,KAAOf,EAAIgB,SAAS,MAAM,IACvhBC,EAAkB,G,YCoBtB,GACEC,KAAM,aACNC,KAAM,WACJ,MAAO,CACLN,QAAS,CAAC,KAAM,OAAQ,YACxBO,MAAO,OAGXC,QAAS,CACPN,OADJ,YACA,WACUO,QAAQ,kBACVrB,KAAKsB,SACb,qBACU,SAAV,OACU,UAAV,CACY,GAAZ,KAWA,MAIIP,KAtBJ,YAsBA,WACMf,KAAKuB,QAAQC,KAAK,CAAxB,+BAGEC,OAAQ,CACNf,YAAa,EAAjB,OCxDwW,I,YCOpWgB,EAAY,eACd,EACA5B,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/chunk-5e1c0db2.ab23a9e8.js","sourcesContent":["import gql from \"graphql-tag\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n  query GetDepartments($isActive: true) {\r\n    departments(isActive: $isActive) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\nexport const GET_ALL_DEPARTMENTS = gql`\r\n  query GetAllDepartments {\r\n    departments {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEPARTMENT_BY_ID = gql`\r\n  query GetDepartment($id: String!) {\r\n    department(id: $id) {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\nexport const UPSERT_DEPARTMENT = gql`\r\n  mutation AddDepartment($id: String, $name: String!, $isActive: Boolean!) {\r\n    addDepartment(dept: { id: $id, name: $name, isActive: $isActive }) {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\nexport const REMOVE_DEPARTMENT = gql`\r\n  mutation RemoveDepartment($id: String!) {\r\n    deleteDepartment(id: $id) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\n// export const getAcDepts = function(isActive) {\r\n//   return {\r\n//     query: GET_ALL_DEPARTMENTS,\r\n//     manual: true,\r\n//     result({ data, loading }) {\r\n//       if (!loading) {\r\n//         this.depts = data.acDepts.filter(\r\n//           (x) => isActive || x.isActive === true\r\n//         );\r\n//       }\r\n//     },\r\n//   };\r\n// };\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('PageHeader',{attrs:{\"header-text\":\"Department List\",\"to\":\"/acdept\",\"link-text\":\"Add New\"}}),_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-full\",staticStyle:{\"overflow-x\":\"auto\"}},[_c('c-table',{attrs:{\"loading\":_vm.$apollo.queries.departments.loading,\"columns\":_vm.columns,\"data\":_vm.departments,\"buttons\":['edit','remove']},on:{\"remove\":_vm.remove,\"edit\":_vm.edit}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <PageHeader header-text=\"Department List\" to=\"/acdept\" link-text=\"Add New\" />\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-full\" style=\"overflow-x:auto\">\r\n        <c-table\r\n          :loading=\"$apollo.queries.departments.loading\"\r\n          :columns=\"columns\"\r\n          :data=\"departments\"\r\n          :buttons=\"['edit','remove']\"\r\n          @remove=\"remove\"\r\n          @edit=\"edit\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GET_ALL_DEPARTMENTS, REMOVE_DEPARTMENT } from \"@/graphql/department\";\r\n\r\nexport default {\r\n  name: \"AcDeptList\",\r\n  data: function() {\r\n    return {\r\n      columns: [\"id\", \"name\", \"isActive\"],\r\n      error: null\r\n    };\r\n  },\r\n  methods: {\r\n    remove({ id }) {\r\n      if (confirm(\"Are you sure?\")) {\r\n        this.$observe(\r\n          this.$apollo.mutate({\r\n            mutation: REMOVE_DEPARTMENT,\r\n            variables: {\r\n              id\r\n            }\r\n            // update: (store, { data: { addAcDept } }) => {\r\n            //   const data = store.readQuery({ query: GET_AC_DEPTS });\r\n            //   data.acDepts = data.acDepts.filter(x => x.id !== addAcDept.id);\r\n            //   if (!data.acDepts.some(x => x.id === addAcDept.id)) {\r\n            //     data.acDepts.push(addAcDept);\r\n            //   }\r\n            //   store.writeQuery({ query: GET_AC_DEPTS, data });\r\n            // }\r\n          }),\r\n          \"D\"\r\n        );\r\n      }\r\n    },\r\n    edit({ id }) {\r\n      this.$router.push({ path: \"acdept\", query: { id } });\r\n    }\r\n  },\r\n  apollo: {\r\n    departments: GET_ALL_DEPARTMENTS\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./department-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./department-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./department-list.vue?vue&type=template&id=1fcb178a&\"\nimport script from \"./department-list.vue?vue&type=script&lang=js&\"\nexport * from \"./department-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}