{"version":3,"sources":["webpack:///./src/graphql/course.js","webpack:///./src/views/master/course-list.vue?b03f","webpack:///src/views/master/course-list.vue","webpack:///./src/views/master/course-list.vue?3eb5","webpack:///./src/views/master/course-list.vue"],"names":["GET_COURSES","gql","GET_ALL_COURSES","GET_COURSE_BY_ID","REMOVE_COURSE","UPSERT_COURSE","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","courses","$apollo","queries","loading","columns","on","remove","edit","staticRenderFns","name","data","error","methods","confirm","$observe","mutate","$router","push","apollo","component"],"mappings":"4nEAEO,IAAMA,EAAcC,IAAH,KAWXC,EAAkBD,IAAH,KAiBfE,EAAmBF,IAAH,KAiBhBG,EAAgBH,IAAH,KASbI,EAAgBJ,IAAH,M,yCCxD1B,IAAIK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,cAAc,cAAc,GAAK,UAAU,YAAY,aAAaH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBE,YAAY,CAAC,aAAa,SAAS,CAAGR,EAAIS,QAAsBL,EAAG,UAAU,CAACG,MAAM,CAAC,QAAUP,EAAIU,QAAQC,QAAQF,QAAQG,QAAQ,QAAUZ,EAAIa,QAAQ,KAAOb,EAAIS,QAAQ,QAAU,CAAC,OAAO,WAAWK,GAAG,CAAC,OAASd,EAAIe,OAAO,KAAOf,EAAIgB,QAAzLZ,EAAG,WAA+L,MAAM,IACviBa,EAAkB,G,YCsBtB,GACEC,KAAM,aACNC,KAFF,WAGI,MAAO,CACLN,QAAS,CAAC,OAAQ,OAAQ,iBAAkB,YAC5CO,MAAO,OAGXC,QAAS,CACPN,OADJ,YACA,WACUO,QAAQ,kBACVrB,KAAKsB,SAAStB,KAAKS,QAAQc,OAAO,CAChC,SAAV,OACU,UAAV,CACY,GAAZ,KAQA,MAIIR,KAlBJ,YAkBA,WACMf,KAAKwB,QAAQC,KAAK,CAAxB,+BAGEC,OAAQ,CACNlB,QAAS,EAAb,OCtDoW,I,YCOhWmB,EAAY,eACd,EACA7B,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAW,E","file":"js/chunk-c1be05da.22a6790e.js","sourcesContent":["import gql from 'graphql-tag'\r\n\r\nexport const GET_COURSES = gql`\r\n    query GetActiveCourses{\r\n        courses(isActive: true){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            departmentName\r\n        }\r\n    }\r\n`\r\nexport const GET_ALL_COURSES = gql`\r\n    query GetAllCourses{\r\n        courses{\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\nexport const GET_COURSE_BY_ID = gql`\r\n    query GetCourse($id: String!){\r\n        course(id: $id){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\nexport const REMOVE_COURSE = gql`\r\n    mutation RemoveCourse($id: String!){\r\n        deleteCourse(id: $id){\r\n            id,\r\n            code,\r\n            name,\r\n        }\r\n    }\r\n`\r\nexport const UPSERT_COURSE = gql`\r\n    mutation AddCourse($id:String, $name:String!, $code: String!, $type:String!, $department:String!, $duration:String!, $isActive:Boolean){\r\n        addCourse(course: {id:$id,name:$name,code:$code,type:$type,department:$department,duration:$duration,isActive:$isActive}){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\n\r\n// export const getCourseById = function (variables, skip = false) {\r\n//     return {\r\n//         query: GET_COURSE_BY_ID,\r\n//         variables,\r\n//         skip: skip\r\n//     }\r\n// }\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('PageHeader',{attrs:{\"header-text\":\"Course List\",\"to\":\"/course\",\"link-text\":\"Add New\"}}),_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-full\",staticStyle:{\"overflow-x\":\"auto\"}},[(!_vm.courses)?_c('Loader'):_c('c-table',{attrs:{\"loading\":_vm.$apollo.queries.courses.loading,\"columns\":_vm.columns,\"data\":_vm.courses,\"buttons\":['edit','remove']},on:{\"remove\":_vm.remove,\"edit\":_vm.edit}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <PageHeader header-text=\"Course List\" to=\"/course\" link-text=\"Add New\" />\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-full\" style=\"overflow-x:auto\">\r\n        <Loader v-if=\"!courses\" />\r\n        <c-table\r\n          :loading=\"$apollo.queries.courses.loading\"\r\n          :columns=\"columns\"\r\n          :data=\"courses\"\r\n          :buttons=\"['edit','remove']\"\r\n          @remove=\"remove\"\r\n          @edit=\"edit\"\r\n          v-else\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GET_ALL_COURSES, REMOVE_COURSE } from \"@/graphql/course\";\r\n\r\nexport default {\r\n  name: \"CourseList\",\r\n  data() {\r\n    return {\r\n      columns: [\"code\", \"name\", \"departmentName\", \"isActive\"],\r\n      error: null\r\n    };\r\n  },\r\n  methods: {\r\n    remove({ id }) {\r\n      if (confirm(\"Are you sure?\")) {\r\n        this.$observe(this.$apollo.mutate({\r\n            mutation: REMOVE_COURSE,\r\n            variables: {\r\n              id\r\n            },\r\n            //update: (store, { data }) => {\r\n              // const data = store.readQuery({ query: GET_ALL_COURSES });\r\n              // data.courses = data.courses.filter(x => x.id !== deleteCourse.id);\r\n              // store.writeQuery({ query: GET_ALL_COURSES, data });\r\n            //}\r\n          }),\r\n          \"D\"\r\n        );\r\n      }\r\n    },\r\n    edit({ id }) {\r\n      this.$router.push({ path: \"course\", query: { id } });\r\n    }\r\n  },\r\n  apollo: {\r\n    courses: GET_ALL_COURSES\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./course-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./course-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./course-list.vue?vue&type=template&id=fd528d08&\"\nimport script from \"./course-list.vue?vue&type=script&lang=js&\"\nexport * from \"./course-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}