{"version":3,"sources":["webpack:///./src/graphql/role.js","webpack:///./src/views/user-management/role-list.vue?1e9e","webpack:///src/views/user-management/role-list.vue","webpack:///./src/views/user-management/role-list.vue?cde4","webpack:///./src/views/user-management/role-list.vue"],"names":["GET_ROLES","gql","GET_ROLE_BY_ID","UPSERT_ROLE","DELETE_ROLE","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","$apollo","queries","roles","loading","columns","on","remove","edit","staticRenderFns","name","data","error","methods","$router","push","confirm","apollo","component"],"mappings":"4qCAEO,IAAMA,EAAYC,IAAH,KASTC,EAAiBD,IAAH,KAUdE,EAAcF,IAAH,KAUXG,EAAcH,IAAH,M,yCC/BxB,IAAII,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,cAAc,YAAY,GAAK,QAAQ,YAAY,kBAAkBH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBE,YAAY,CAAC,aAAa,SAAS,CAACJ,EAAG,UAAU,CAACG,MAAM,CAAC,QAAUP,EAAIS,QAAQC,QAAQC,MAAMC,QAAQ,QAAUZ,EAAIa,QAAQ,KAAOb,EAAIW,MAAM,QAAU,CAAC,OAAO,WAAWG,GAAG,CAAC,OAASd,EAAIe,OAAO,KAAOf,EAAIgB,SAAS,MAAM,IACxgBC,EAAkB,G,wBCoBtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLC,MAAO,KACPP,QAAS,CAAC,OAAhB,gBAGEQ,QAAS,CACPL,KADJ,YACA,WACMf,KAAKqB,QAAQC,KAAK,CAAxB,4BAEIR,OAJJ,YAIA,WACUS,QAAQ,kBAClB,mCACQ,SAAR,OACQ,UAAR,CAAU,GAAV,GACQ,OAAR,cAAU,IAAV,oBACA,eAAY,MAAZ,SACU,EAAV,kCAAY,OAAZ,eACU,EAAV,YAAY,MAAZ,OAAY,KAAZ,OAGA,OAIEC,OAAQ,CACNd,MAAO,EAAX,OCjDkW,I,YCO9Ve,EAAY,eACd,EACA3B,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAS,E","file":"js/chunk-81338330.44aded11.js","sourcesContent":["import gql from 'graphql-tag'\r\n\r\nexport const GET_ROLES = gql`\r\n    query GetRoles{\r\n        roles{\r\n            id,\r\n            name,\r\n            privileges\r\n        }\r\n    }\r\n`\r\nexport const GET_ROLE_BY_ID = gql`\r\n    query GetRole($id: String!){\r\n        role(id: $id){\r\n            id,\r\n            name,\r\n            privileges\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPSERT_ROLE = gql`\r\n    mutation AddRole($id: String, $name: String!, $privileges: String!){\r\n        addRole(id: $id, name: $name, privileges: $privileges){\r\n            id,\r\n            name,\r\n            privileges\r\n        }\r\n    }\r\n`\r\n\r\nexport const DELETE_ROLE = gql`\r\n    mutation AddRole($id: String!){\r\n        deleteRole(id: $id){\r\n            id,\r\n            name,\r\n            privileges\r\n        }\r\n    }\r\n`","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('PageHeader',{attrs:{\"header-text\":\"Role List\",\"to\":\"/role\",\"link-text\":\"Add New Role\"}}),_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-full\",staticStyle:{\"overflow-x\":\"auto\"}},[_c('c-table',{attrs:{\"loading\":_vm.$apollo.queries.roles.loading,\"columns\":_vm.columns,\"data\":_vm.roles,\"buttons\":['edit','remove']},on:{\"remove\":_vm.remove,\"edit\":_vm.edit}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <PageHeader header-text=\"Role List\" to=\"/role\" link-text=\"Add New Role\" />\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-full\" style=\"overflow-x:auto\">\r\n        <c-table\r\n          :loading=\"$apollo.queries.roles.loading\"\r\n          :columns=\"columns\"\r\n          :data=\"roles\"\r\n          :buttons=\"['edit','remove']\"\r\n          @remove=\"remove\"\r\n          @edit=\"edit\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GET_ROLES, DELETE_ROLE } from \"@/graphql/role\";\r\n\r\nexport default {\r\n  name: \"RoleList\",\r\n  data() {\r\n    return {\r\n      error: null,\r\n      columns: [\"name\",\"privileges\"]\r\n    };\r\n  },\r\n  methods: {\r\n    edit({ id }) {\r\n      this.$router.push({ path: \"role\", query: { id } });\r\n    },\r\n    remove({ id }) {\r\n      if (confirm(\"Are you sure?\"))\r\n        this.$observe(this.$apollo.mutate({\r\n            mutation: DELETE_ROLE,\r\n            variables: { id },\r\n            update: (store, { data: { deleteRole } }) => {\r\n              const data = store.readQuery({ query: GET_ROLES });\r\n              data.roles = data.roles.filter(x => x.id !== deleteRole.id);\r\n              store.writeQuery({ query: GET_ROLES, data });\r\n            }\r\n          }),\r\n          \"D\"\r\n        );\r\n    }\r\n  },\r\n  apollo: {\r\n    roles: GET_ROLES\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role-list.vue?vue&type=template&id=3fc0ba35&\"\nimport script from \"./role-list.vue?vue&type=script&lang=js&\"\nexport * from \"./role-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}