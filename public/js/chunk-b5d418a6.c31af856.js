(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5d418a6"],{"06c2":function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return d})),t.d(n,"d",(function(){return m})),t.d(n,"a",(function(){return v}));var r=t("8785"),i=t("9530"),o=t.n(i);function l(){var e=Object(r["a"])(["\n    mutation AddRole($id: String!){\n        deleteRole(id: $id){\n            id,\n            name,\n            privileges\n        }\n    }\n"]);return l=function(){return e},e}function s(){var e=Object(r["a"])(["\n    mutation AddRole($id: String, $name: String!, $privileges: String!){\n        addRole(id: $id, name: $name, privileges: $privileges){\n            id,\n            name,\n            privileges\n        }\n    }\n"]);return s=function(){return e},e}function u(){var e=Object(r["a"])(["\n    query GetRole($id: String!){\n        role(id: $id){\n            id,\n            name,\n            privileges\n        }\n    }\n"]);return u=function(){return e},e}function a(){var e=Object(r["a"])(["\n    query GetRoles{\n        roles{\n            id,\n            name,\n            privileges\n        }\n    }\n"]);return a=function(){return e},e}var c=o()(a()),d=o()(u()),m=o()(s()),v=o()(l())},"4d56":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ValidationObserver",{ref:"observer",staticClass:"box",scopedSlots:e._u([{key:"default",fn:function(n){var r=n.passes;return[t("form",{on:{submit:function(n){return n.preventDefault(),r(e.onSubmit)}}},[t("PageHeader",{attrs:{"header-text":"Configure Role",to:"/roles","link-text":"View All Roles"}}),e.$apollo.queries.role.loading?t("Loader"):t("div",{staticClass:"columns is-multiline"},[t("div",{staticClass:"column is-3"},[t("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.errors;return[t("c-input",{attrs:{label:"Name",type:"text",errors:r},model:{value:e.role.name,callback:function(n){e.$set(e.role,"name",n)},expression:"role.name"}})]}}],null,!0)})],1),t("div",{staticClass:"column is-3"},[t("c-select",{attrs:{label:"Modules",required:!1,options:e.modules}})],1)]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-3"},[t("pre",[e._v("         "),e._l(e.role_privileges,(function(n){return t("p",{key:n},[e._v(e._s(n))])})),e._v("\n        ")],2)]),t("div",{staticClass:"column is-9"},[t("div",{staticClass:"columns is-multiline"},e._l(e.privileges,(function(n){return t("div",{key:n,staticClass:"column is-3"},[t("div",{staticClass:"field"},[t("b-checkbox",{attrs:{value:e.role_privileges.includes(n)},nativeOn:{change:function(t){return e.toggle(t,n)}}},[e._v(e._s(n))])],1)])})),0)])]),t("div",{staticClass:"columns"},[t("BtnGroup",{attrs:{loading:e.loading},on:{reset:e.reset}})],1)],1)]}}])})},i=[],o=(t("4de4"),t("c975"),t("d81d"),t("b0c0"),t("d3b7"),t("ac1f"),t("25f0"),t("1276"),t("5530")),l=t("06c2"),s={name:"RoleCreate",methods:{toggle:function(e,n){var t=this.role.privileges?this.role.privileges.split(","):[];e.target.checked?t.push(n):t=t.filter((function(e){return e!==n})),this.role.privileges=t.toString()},onSubmit:function(){this.$observe(this.$apollo.mutate({mutation:l["d"],variables:Object(o["a"])({},this.role,{privileges:this.role.privileges.toString()})}))},reset:function(){if(this.$route.query.id)return this.$router.back();this.$clear(this.role),this.$refs.observer.reset()}},computed:{modules:function(){return this.appmodules.map((function(e){return e.module})).filter((function(e,n,t){return t.indexOf(e)===n})).map((function(e){return{value:e}}))},privileges:function(){return this.appmodules.map((function(e){return e.name}))},role_privileges:function(){return this.role.privileges.split(",")}},data:function(){return{loading:!1,role:{name:"",privileges:""},selectedModule:"",appmodules:[{module:"EDP",name:"admin"},{module:"EDP",name:"user-view"},{module:"EDP",name:"user-create"},{module:"EDP",name:"role-view"},{module:"EDP",name:"role-create"},{module:"EDP",name:"category-view"},{module:"EDP",name:"category-create"},{module:"EDP",name:"category-delete"},{module:"Master",name:"course-view"},{module:"Academic",name:"course-create"},{module:"Master",name:"course-delete"},{module:"Fee",name:"feeItem-view"},{module:"Fee",name:"feeItem-create"}]}},apollo:{role:{query:l["c"],variables:function(){return{id:this.$route.query.id}},skip:function(){return!this.$route.query.id}}}},u=s,a=t("2877"),c=Object(a["a"])(u,r,i,!1,null,null,null);n["default"]=c.exports}}]);
//# sourceMappingURL=chunk-b5d418a6.c31af856.js.map