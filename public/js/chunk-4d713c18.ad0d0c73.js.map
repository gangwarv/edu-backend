{"version":3,"sources":["webpack:///./src/graphql/department.js","webpack:///./src/views/master/course-create.vue?c4bc","webpack:///src/views/master/course-create.vue","webpack:///./src/views/master/course-create.vue?29de","webpack:///./src/views/master/course-create.vue","webpack:///./src/graphql/course.js"],"names":["gql","GET_ALL_DEPARTMENTS","GET_DEPARTMENT_BY_ID","UPSERT_DEPARTMENT","REMOVE_DEPARTMENT","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","scopedSlots","_u","key","fn","passes","on","$event","preventDefault","onSubmit","attrs","$apollo","queries","course","errors","model","value","callback","$$v","$set","expression","departments","types","durations","loading","reset","staticRenderFns","name","data","code","type","duration","isActive","department","depts","methods","$observe","mutate","$route","query","id","$router","back","$clear","$refs","observer","apollo","variables","skip","computed","$store","getters","courseTypes","courseDurations","component","GET_COURSES","GET_ALL_COURSES","GET_COURSE_BY_ID","REMOVE_COURSE","UPSERT_COURSE"],"mappings":"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","file":"js/chunk-4d713c18.ad0d0c73.js","sourcesContent":["import gql from \"graphql-tag\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n  query GetDepartments($isActive: true) {\r\n    departments(isActive: $isActive) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\nexport const GET_ALL_DEPARTMENTS = gql`\r\n  query GetAllDepartments {\r\n    departments {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_DEPARTMENT_BY_ID = gql`\r\n  query GetDepartment($id: String!) {\r\n    department(id: $id) {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\nexport const UPSERT_DEPARTMENT = gql`\r\n  mutation AddDepartment($id: String, $name: String!, $isActive: Boolean!) {\r\n    addDepartment(dept: { id: $id, name: $name, isActive: $isActive }) {\r\n      id\r\n      name\r\n      isActive\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\nexport const REMOVE_DEPARTMENT = gql`\r\n  mutation RemoveDepartment($id: String!) {\r\n    deleteDepartment(id: $id) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\n// export const getAcDepts = function(isActive) {\r\n//   return {\r\n//     query: GET_ALL_DEPARTMENTS,\r\n//     manual: true,\r\n//     result({ data, loading }) {\r\n//       if (!loading) {\r\n//         this.depts = data.acDepts.filter(\r\n//           (x) => isActive || x.isActive === true\r\n//         );\r\n//       }\r\n//     },\r\n//   };\r\n// };\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"observer\",staticClass:\"box\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar passes = ref.passes;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return passes(_vm.onSubmit)}}},[_c('PageHeader',{attrs:{\"header-text\":\"Course Details\",\"to\":\"/courses\",\"link-text\":\"Course List\"}}),(_vm.$apollo.queries.course.loading)?_c('Loader'):_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is-3\"},[_c('ValidationProvider',{attrs:{\"name\":\"code\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('c-input',{attrs:{\"label\":\"Code\",\"type\":\"text\",\"errors\":errors},model:{value:(_vm.course.code),callback:function ($$v) {_vm.$set(_vm.course, \"code\", $$v)},expression:\"course.code\"}})]}}],null,true)})],1),_c('div',{staticClass:\"column is-3\"},[_c('ValidationProvider',{attrs:{\"name\":\"name\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('c-input',{attrs:{\"label\":\"Name\",\"type\":\"text\",\"errors\":errors},model:{value:(_vm.course.name),callback:function ($$v) {_vm.$set(_vm.course, \"name\", $$v)},expression:\"course.name\"}})]}}],null,true)})],1),_c('div',{staticClass:\"column is-3\"},[_c('ValidationProvider',{attrs:{\"name\":\"department\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('c-select',{attrs:{\"label\":\"Department\",\"options\":[_vm.departments, 'id', 'name'],\"errors\":errors},model:{value:(_vm.course.department),callback:function ($$v) {_vm.$set(_vm.course, \"department\", $$v)},expression:\"course.department\"}})]}}],null,true)})],1),_c('div',{staticClass:\"column is-3\"},[_c('ValidationProvider',{attrs:{\"name\":\"type\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('c-select',{attrs:{\"label\":\"Type\",\"options\":[_vm.types],\"errors\":errors},model:{value:(_vm.course.type),callback:function ($$v) {_vm.$set(_vm.course, \"type\", $$v)},expression:\"course.type\"}})]}}],null,true)})],1),_c('div',{staticClass:\"column is-3\"},[_c('ValidationProvider',{attrs:{\"name\":\"duration\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('c-select',{attrs:{\"label\":\"Duration\",\"options\":[_vm.durations],\"errors\":errors},model:{value:(_vm.course.duration),callback:function ($$v) {_vm.$set(_vm.course, \"duration\", $$v)},expression:\"course.duration\"}})]}}],null,true)})],1),_c('div',{staticClass:\"column is-3\"},[_c('c-check',{attrs:{\"id\":\"s\",\"label\":\"Active\",\"indeterminate\":\"\"},model:{value:(_vm.course.isActive),callback:function ($$v) {_vm.$set(_vm.course, \"isActive\", $$v)},expression:\"course.isActive\"}})],1),_c('div',{staticClass:\"column is-3\"}),_c('BtnGroup',{attrs:{\"loading\":_vm.loading},on:{\"reset\":_vm.reset}})],1)],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ValidationObserver class=\"box\" v-slot=\"{ passes }\" ref=\"observer\">\r\n    <form @submit.prevent=\"passes(onSubmit)\">\r\n      <PageHeader header-text=\"Course Details\" to=\"/courses\" link-text=\"Course List\" />\r\n      <Loader v-if=\"$apollo.queries.course.loading\" />\r\n      <div class=\"columns is-multiline\" v-else>\r\n        <div class=\"column is-3\">\r\n          <ValidationProvider name=\"code\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <c-input v-model=\"course.code\" label=\"Code\" type=\"text\" :errors=\"errors\" />\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"column is-3\">\r\n          <ValidationProvider name=\"name\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <c-input v-model=\"course.name\" label=\"Name\" type=\"text\" :errors=\"errors\" />\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"column is-3\">\r\n          <ValidationProvider name=\"department\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <c-select\r\n              label=\"Department\"\r\n              v-model=\"course.department\"\r\n              :options=\"[departments, 'id', 'name']\"\r\n              :errors=\"errors\"\r\n            ></c-select>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"column is-3\">\r\n          <ValidationProvider name=\"type\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <c-select label=\"Type\" v-model=\"course.type\" :options=\"[types]\" :errors=\"errors\"></c-select>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"column is-3\">\r\n          <ValidationProvider name=\"duration\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <c-select\r\n              label=\"Duration\"\r\n              v-model=\"course.duration\"\r\n              :options=\"[durations]\"\r\n              :errors=\"errors\"\r\n            ></c-select>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"column is-3\">\r\n          <c-check v-model=\"course.isActive\" id=\"s\" label=\"Active\" indeterminate />\r\n        </div>\r\n        <div class=\"column is-3\"></div>\r\n        <BtnGroup :loading=\"loading\" @reset=\"reset\" />\r\n      </div>\r\n    </form>\r\n  </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { GET_COURSE_BY_ID, UPSERT_COURSE } from \"@/graphql/course\";\r\nimport { GET_ALL_DEPARTMENTS } from \"@/graphql/department\";\r\n\r\nexport default {\r\n  name: \"Course\",\r\n  data: function() {\r\n    return {\r\n      course: {\r\n        code: \"\",\r\n        type: \"\",\r\n        name: \"\",\r\n        duration: \"\",\r\n        isActive: true,\r\n        department: null\r\n      },\r\n      loading: false,\r\n      depts: []\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.$observe(this.$apollo.mutate({\r\n          mutation: UPSERT_COURSE,\r\n          variables: {\r\n            ...this.course\r\n          }\r\n        })\r\n      );\r\n    },\r\n    reset() {\r\n      if (this.$route.query.id) {\r\n        return this.$router.back();\r\n      }\r\n      this.$clear(this.course);\r\n      this.$refs.observer.reset();\r\n    }\r\n  },\r\n  apollo: {\r\n    course: {\r\n      query: GET_COURSE_BY_ID,\r\n      variables() {\r\n        return { id: this.$route.query.id };\r\n      },\r\n      skip() {\r\n        return !this.$route.query.id;\r\n      }\r\n    },\r\n    departments: GET_ALL_DEPARTMENTS\r\n  },\r\n  computed: {\r\n    types() {\r\n      return this.$store.getters.courseTypes;\r\n    },\r\n    durations() {\r\n      return this.$store.getters.courseDurations;\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./course-create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./course-create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./course-create.vue?vue&type=template&id=3736be5b&\"\nimport script from \"./course-create.vue?vue&type=script&lang=js&\"\nexport * from \"./course-create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import gql from 'graphql-tag'\r\n\r\nexport const GET_COURSES = gql`\r\n    query GetActiveCourses{\r\n        courses(isActive: true){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            departmentName\r\n        }\r\n    }\r\n`\r\nexport const GET_ALL_COURSES = gql`\r\n    query GetAllCourses{\r\n        courses{\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\nexport const GET_COURSE_BY_ID = gql`\r\n    query GetCourse($id: String!){\r\n        course(id: $id){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\nexport const REMOVE_COURSE = gql`\r\n    mutation RemoveCourse($id: String!){\r\n        deleteCourse(id: $id){\r\n            id,\r\n            code,\r\n            name,\r\n        }\r\n    }\r\n`\r\nexport const UPSERT_COURSE = gql`\r\n    mutation AddCourse($id:String, $name:String!, $code: String!, $type:String!, $department:String!, $duration:String!, $isActive:Boolean){\r\n        addCourse(course: {id:$id,name:$name,code:$code,type:$type,department:$department,duration:$duration,isActive:$isActive}){\r\n            id,\r\n            code,\r\n            type,\r\n            name,\r\n            type,\r\n            isActive,\r\n            isLateral,\r\n            duration,\r\n            departmentName,\r\n            department,\r\n            duration\r\n        }\r\n    }\r\n`\r\n\r\n// export const getCourseById = function (variables, skip = false) {\r\n//     return {\r\n//         query: GET_COURSE_BY_ID,\r\n//         variables,\r\n//         skip: skip\r\n//     }\r\n// }\r\n\r\n"],"sourceRoot":""}